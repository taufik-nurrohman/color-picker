/*!
 * ==============================================================
 *  COLOR PICKER 2.0.1
 * ==============================================================
 * Author: Taufik Nurrohman <https://github.com/taufik-nurrohman>
 * License: MIT
 * --------------------------------------------------------------
 */
!function(t,n,e){function i(t){var n,e,i,r,u,o,c,a,s=+t[0],f=+t[1],l=+t[2];switch(r=Math.floor(6*s),u=6*s-r,o=l*(1-f),c=l*(1-u*f),a=l*(1-(1-u)*f),r=r||0,c=c||0,a=a||0,r%6){case 0:n=l,e=a,i=o;break;case 1:n=c,e=l,i=o;break;case 2:n=o,e=l,i=a;break;case 3:n=o,e=c,i=l;break;case 4:n=a,e=o,i=l;break;case 5:n=l,e=o,i=c}return[m(255*n),m(255*e),m(255*i),p(g(t[3])?+t[3]:1,2)]}function r(t){var n,e,i=+t[0]/255,r=+t[1]/255,u=+t[2]/255,o=Math.max(i,r,u),c=Math.min(i,r,u),a=o,s=o-c,e=0===o?0:s/o;if(o===c)n=0;else{switch(o){case i:n=(r-u)/s+(u>r?6:0);break;case r:n=(u-i)/s+2;break;case u:n=(i-r)/s+4}n/=6}return[n,e,a,g(t[3])?+t[3]:1]}function u(t,n){var e="touches",i="clientX",r="clientY",u=n[e]?n[e][0][i]:n[i],o=n[e]?n[e][0][r]:n[r],a=c(t);return[u-a[0],o-a[1]]}function o(t,n){if(t===n)return t;for(;(t=t.parentElement)&&t!==n;);return t}function c(n){var e,i,r;return n===t?(e=t.pageXOffset||w.scrollLeft,i=t.pageYOffset||w.scrollTop):(r=n.getBoundingClientRect(),e=r.left,i=r.top),[e,i]}function a(n){return n===t?[t.innerWidth,t.innerHeight]:[n.offsetWidth,n.offsetHeight]}function s(t){t&&t.preventDefault()}function f(t){return"function"==typeof t}function l(t){return"object"==typeof t}function g(t){return void 0!==t||null===t}function v(t){return"string"==typeof t}function d(t,n){return t<n[0]?n[0]:t>n[1]?n[1]:t}function p(t,n){return+t.toFixed(n)}function h(t,n){return parseInt(t,n||10)}function m(t){return Math.round(t)}function b(t,n){return t.toString(n)}function k(t,n,e){for(var i=0,r=n.length;r>i;++i)t.removeEventListener(n[i],e,!1)}function x(t,n,e){for(var i=0,r=n.length;r>i;++i)t.addEventListener(n[i],e,!1)}function y(t,n,e){t.style[n]=e}var w=n.documentElement,j="HEX",C="children",E="top",L="right",T="left",O="px",_=t.setTimeout,A="instances",M=["touchstart","mousedown"],H=["touchmove","mousemove"],R=["orientationchange","resize"],N=["touchend","mouseup"];!function(t){t.version="2.0.1",t[A]={},t[j]=function(t){if(v(t)){var n=(t=t.trim()).length;if(4!==n&&7!==n||"#"!==t[0]){if((5===n||9===n)&&"#"===t[0]&&/^#([a-z\d]{1,2}){4}$/i.test(t))return 5===n?[h(t[1]+t[1],16),h(t[2]+t[2],16),h(t[3]+t[3],16),p(h(t[4]+t[4],16)/255,2)]:[h(t[1]+t[2],16),h(t[3]+t[4],16),h(t[5]+t[6],16),p(h(t[7]+t[8],16)/255,2)]}else if(/^#([a-z\d]{1,2}){3}$/i.test(t))return 4===n?[h(t[1]+t[1],16),h(t[2]+t[2],16),h(t[3]+t[3],16),1]:[h(t[1]+t[2],16),h(t[3]+t[4],16),h(t[5]+t[6],16),1];return[0,0,0,1]}return"#"+("000000"+b(+t[2]|+t[1]<<8|+t[0]<<16,16)).slice(-6)+(g(t[3])&&t[3]<1?b(m(255*t[3])+65536,16).substr(-2):"")},t._=t.prototype}(t[e]=function(v,p){function h(t){var n,e=P[f(P[W.color])?W.color:j];if(n=v.dataset.color)return g(t)?v.dataset.color=e(n):e(n);if(n=v.value)return g(t)?v.value=e(n):e(n);if(n=v.textContent)return g(t)?v.textContent=e(n):e(n);if(!g(t))return[0,0,0,1]}function m(t,n){if(!g(t))return X={},K;if(g(X[t]))if(g(n))for(var e=0,i=X[t].length;i>e;++e)n===X[t][e]&&X[t].splice(e,1);else delete X[t];return K}function b(t,n){return g(X[t])||(X[t]=[]),g(n)&&X[t].push(n),K}function B(t,n){if(!g(X[t]))return K;for(var e=0,i=X[t].length;i>e;++e)X[t][e].apply(K,n);return K}function D(){return I.parentNode}function S(t){var n=t.target,e=v===o(n,v);e?!D()&&$(W.parent):F()}function z(e,f){function p(t){ln&&P(t),gn&&X(t),vn&&Y(t),Q=i(U),(ln||gn||vn)&&(B(an||sn||fn?"start":"drag",Q),B("change",Q)),an=sn=fn=0}function m(t){Q=i(U);var n=t.target,e=v===o(n,v),r=I===o(n,I);K.current=null,e||r?r&&(ln||gn||vn)&&B("stop",Q):D()&&!1!==W.events&&F(),ln=gn=vn=0}function b(t){K.current=Z,an=ln=1,p(t),s(t)}function j(t){K.current=tn,sn=gn=1,p(t),s(t)}function C(t){K.current=nn,fn=vn=1,p(t),s(t)}function A(t){g(t[1])&&y(rn,L,pn-bn/2-pn*+t[1]+O),g(t[2])&&y(rn,E,hn-kn/2-hn*+t[2]+O),g(t[0])&&y(un,E,xn-yn/2-xn*+t[0]+O),g(t[3])&&y(cn,E,wn-jn/2-wn*+t[3]+O)}function P(t){var n=u(Z,t),e=d(n[0],[0,pn]),i=d(n[1],[0,hn]);U[1]=1-(pn-e)/pn,U[2]=(hn-i)/hn,V()}function X(t){U[0]=(xn-d(u(tn,t)[1],[0,xn]))/xn,V()}function Y(t){U[3]=(wn-d(u(nn,t)[1],[0,wn]))/wn,V()}function V(){A(U);var t=i(U),n=i([U[0],1,1]);y(en,"backgroundColor","rgb("+n[0]+","+n[1]+","+n[2]+")"),y(on,"backgroundImage","linear-gradient(rgb("+t[0]+","+t[1]+","+t[2]+"),transparent)")}U=r(Q=h()),e||((f||W.parent||J).appendChild(I),K.visible=!0),$=function(t){return z(0,t),B("enter",Q),K},F=function(){var e=D();return e&&(e.removeChild(I),K.current=null,K.visible=!1),k(Z,M,b),k(tn,M,j),k(nn,M,C),k(n,H,p),k(n,N,m),k(t,R,G),B("exit",Q),K},q=function(n){var e=a(t),i=a(w),r=e[0]-i[0],u=e[1]-w.clientHeight,o=c(t),s=c(v),f=a(I),p=f[0],h=f[1],m=s[0]+o[0],b=s[1]+o[1]+a(v)[1];if(l(n))g(n[0])&&(m=n[0]),g(n[1])&&(b=n[1]);else{var k=o[0],x=o[1],j=o[0]+e[0]-p-r,C=o[1]+e[1]-h-u;m=d(m,[k,j])>>0,b=d(b,[x,C])>>0}return y(I,T,m+O),y(I,E,b+O),B("fit",Q),K},G=function(){return q()};var dn=a(Z),pn=dn[0],hn=dn[1],mn=a(rn),bn=mn[0],kn=mn[1],xn=a(tn)[1],yn=a(un)[1],wn=a(nn)[1],jn=a(cn)[1];e?(!1!==W.events&&x(v,W.events,S),_(function(){B("change",Q)},1)):(x(Z,M,b),x(tn,M,j),x(nn,M,C),x(n,H,p),x(n,N,m),x(t,R,G),q()),K.get=function(){return h()},K.set=function(t,n,e,i){return U=r([t,n,e,i]),V(),K},V()}if(v){var K=this,P=t[e],X={},I=n.createElement("div"),W=Object.assign({"class":"color-picker",color:j,events:M,parent:null},!1===p||p instanceof Array?{e:p}:p||{}),Y=W["class"];if(v[e])return K;if(!(K instanceof P))return new P(v,p);P[A][v.id||v.name||Object.keys(P[A]).length]=K,v[e]=1,K.visible=!1,I.className=Y,I.innerHTML='<div><div class="'+Y+':sv"><div></div><div></div><div></div><i></i></div><div class="'+Y+':h"><div></div><i></i></div><div class="'+Y+':a"><div></div><div></div><i></i></div></div>';var $,F,q,G,J=n.body,Q=h(),U=r(Q),V=I.firstChild,Z=V[C][0],tn=V[C][1],nn=V[C][2],en=Z[C][0],rn=Z[C][3],un=(tn[C][0],tn[C][1]),on=nn[C][0],cn=nn[C][2],an=0,sn=0,fn=0,ln=0,gn=0,vn=0;z(1),K.color=function(t,n,e,i){return P[f(P[W.color])?W.color:j]([t,n,e,i])},K.current=null,K.enter=$,K.exit=F,K.fire=B,K.fit=q,K.hooks=X,K.off=m,K.on=b,K.pop=function(){return v[e]?(delete v[e],!1!==W.events&&k(v,W.events,S),F(),B("pop",Q)):K},K.value=function(t,n,e,i){return K.set(t,n,e,i),B("change",[t,n,e,i])},K.self=I,K.source=v,K.state=W}})}(this,this.document,"CP");
