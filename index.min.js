/*!
 *
 * The MIT License (MIT)
 *
 * Copyright © 2022 Taufik Nurrohman <https://github.com/taufik-nurrohman>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the “Software”), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).CP=t()}(this,(function(){"use strict";var n=function(n,t){return-1!==t.indexOf(n)},t=function(n){return Array.isArray(n)},e=function(n){return"function"==typeof n},r=function(n,t){return n&&u(t)&&n instanceof t},o=function(n){return"number"==typeof n},i=function(n,t){return void 0===t&&(t=!0),"object"==typeof n&&(!t||r(n,Object))},u=function(n){return function(n){return void 0!==n}(n)&&!function(n){return null===n}(n)},c=function(n){return"string"==typeof n},f=function(n){return n.toUpperCase()},s=function(n){return n.length},l=function(n,t){return u(t[0])&&n<t[0]?t[0]:u(t[1])&&n>t[1]?t[1]:n},a=function(n,t){return void 0===t&&(t=10),t?parseInt(n,t):parseFloat(n)},d=function(n){return Object.keys(n)},v=function(n){return o(n)?Math.round(n):null},p=function(n,t){return void 0===t&&(t=10),o(n)?n.toString(t):""+n},h=function e(){for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];for(var f=o.shift(),l=0,a=s(o);l<a;++l)for(var d in o[l])if(u(f[d]))if(t(f[d])&&t(o[l][d])){f[d]=[].concat(f[d]);for(var v=0,p=s(o[l][d]);v<p;++v)n(o[l][d][v],f[d])||f[d].push(o[l][d][v])}else i(f[d])&&i(o[l][d])?f[d]=e({},f[d],o[l][d]):f[d]=o[l][d];else f[d]=o[l][d];return f},g=function n(e){if(t(e))return e.map((function(t){return n(e)}));if(i(e)){for(var r in e)e[r]=n(e[r]);return e}return!1===e?"false":null===e?"null":!0===e?"true":""+e},b=document,m=window,y=b.body,k=b.documentElement,E=function(n,t){return t?n.closest(t)||null:n.parentNode||null},w=function(n,t){return n.removeAttribute(t),n},C=function(n,t,e){return!0===e&&(e=t),n.setAttribute(t,g(e)),n},x=function(n,t){return n.append(t),t},L=function(n,t,e){return n=c(n)?b.createElement(n):n,i(t)&&(e=t,t=!1),c(t)&&O(n,t),i(e)&&function(n,t){var e;for(var r in t)(e=t[r])||""===e||0===e?C(n,r,e):w(n,r)}(n,e),n},O=function(n,t,e){if(void 0===e&&(e=!0),null===t)return n;var r="innerHTML";return function(n,t){return t in n}(n,r)&&(n[r]=e?t.trim():t),n},P=function(n,t,e){return o(e)&&(e+="px"),n.style[(r=t,r.replace(/[-_.](\w)/g,(function(n,t){return f(t)})))]=g(e),n;var r},T=function(n){return n&&n.preventDefault()},A=function(n,t,e){n.forEach((function(n){return function(n,t,e){t.removeEventListener(n,e)}(n,t,e)}))},H=function(n,t,e,r){void 0===r&&(r=!1),n.forEach((function(n){return function(n,t,e,r){void 0===r&&(r=!1),t.addEventListener(n,e,r)}(n,t,e,r)}))};var M=function(n,t){var e=n.touches,r=e?e[0].clientX:n.clientX,o=e?e[0].clientY:n.clientY;if(t){var i=X(t);return[r-i[0],o-i[1],i[0],i[1]]}return[r,o]},X=function(n){var t,e,r,o,i,u,c;return!function(n){return n===m}(n)?(o=(e=n.getBoundingClientRect()).left,i=e.top,r=e.width,t=e.height,u=e.right,c=e.bottom):(o=n.pageXOffset||k.scrollLeft||y.scrollLeft,i=n.pageYOffset||k.scrollTop||y.scrollTop,r=n.innerWidth,t=n.innerHeight),[o,i,r,t,u,c]};const _="HEX",Y=["touchstart","mousedown"],$=["touchmove","mousemove"],z=["orientationchange","resize"],B=["touchend","mouseup"];let D=m.setTimeout;function F(n,t){if(n===t)return n;for(;(n=n.parentElement)&&n!==t;);return n}function I(n){let t,e,r,o,i,c,f,s,l=+n[0],a=+n[1],d=+n[2];switch(o=Math.floor(6*l),i=6*l-o,c=d*(1-a),f=d*(1-i*a),s=d*(1-(1-i)*a),o=o||0,f=f||0,s=s||0,o%6){case 0:t=d,e=s,r=c;break;case 1:t=f,e=d,r=c;break;case 2:t=c,e=d,r=s;break;case 3:t=c,e=f,r=d;break;case 4:t=s,e=c,r=d;break;case 5:t=d,e=c,r=f}return[v(255*t),v(255*e),v(255*r),u(n[3])?+n[3]:1]}function N(n){let t,e,r=+n[0]/255,o=+n[1]/255,i=+n[2]/255,c=Math.max(r,o,i),f=Math.min(r,o,i),s=c,l=c-f;if(e=0===c?0:l/c,c===f)t=0;else{switch(c){case r:t=(o-i)/l+(o<i?6:0);break;case o:t=(i-r)/l+2;break;case i:t=(r-o)/l+4}t/=6}return[t,e,s,u(n[3])?+n[3]:1]}function R(n,t={}){if(!n)return;if(n.CP)return n.CP;const o=this;if(!r(o,R))return new R(n,t);var f;o.state=t=h(R.state,c(t)?{color:t}:t||{}),R.instances[n.id||n.name||(f=R.instances,s(d(f)))]=o,n.CP=o;let{fire:a,hooks:v}=function(n){var t={};return n.hooks=t,n.fire=function(e,r){return u(t[e])?(t[e].forEach((function(t){return t.apply(n,r)})),n):n},n.off=function(e,r){if(!u(e))return t={},n;if(u(t[e]))if(u(r)){for(var o=0,i=t[e].length;o<i;++o)if(r===t[e][o]){t[e].splice(o,1);break}0===j&&delete t[e]}else delete t[e];return n},n.on=function(e,r){return u(t[e])||(t[e]=[]),u(r)&&t[e].push(r),n},n}(o);function p(){return n.value?R[e(R[t.color])?t.color:_](n.value||""):[0,0,0,1]}let g,w,C,O,S=t.class+"__",U=()=>n.disabled,W=()=>n.readOnly,q=p(),G=N(q),J=L("div",{class:S+"dialog",role:"dialog"}),K=L("div",{class:S+"controls"}),Q=S+"control",V=S+"cursor",Z=L("div",{class:Q+" "+Q+"--s/v"}),nn=L("div",{class:Q+" "+Q+"--h"}),tn=L("div",{class:Q+" "+Q+"--a"}),en=L("div"),rn=L("div"),on=L("div"),un=L("i",{class:V+" "+V+"--s/v"}),cn=L("div"),fn=L("i",{class:V+" "+V+"--h"}),sn=L("div"),ln=L("div"),an=L("i",{class:V+" "+V+"--a"}),dn=0,vn=0,pn=0,hn=0,gn=0,bn=0;function mn(t){if(v.focus)a("focus",q);else{let e=t.target;n===F(e,n)?!E(J)&&g():w()}}return x(J,K),x(K,Z),x(K,nn),x(K,tn),x(Z,en),x(Z,rn),x(Z,on),x(Z,un),x(nn,cn),x(nn,fn),x(tn,sn),x(tn,ln),x(tn,an),function r(c,f){function s(n){o.current=tn,pn=bn=1,L(n),T(n)}function d(n){o.current=nn,vn=gn=1,L(n),T(n)}function h(n){o.current=Z,dn=hn=1,L(n),T(n)}function L(n){hn&&function(n){let t=M(n,Z),e=l(t[0],[0,En]),r=l(t[1],[0,yn]);G[1]=1-(En-e)/En,G[2]=(yn-r)/yn,j()}(n),gn&&function(n){G[0]=(Cn-l(M(n,nn)[1],[0,Cn]))/Cn,j()}(n),bn&&function(n){G[3]=(Ln-l(M(n,tn)[1],[0,Ln]))/Ln,j()}(n),q=I(G),(hn||gn||bn)&&(a(dn||vn||pn?"start":"drag",q),a("change",q)),dn=vn=pn=0}function j(){!function(n){u(n[1])&&P(un,"right",En-wn/2-En*+n[1]),u(n[2])&&P(un,"top",yn-kn/2-yn*+n[2]),u(n[0])&&P(fn,"top",Cn-xn/2-Cn*+n[0]),u(n[3])&&P(an,"top",Ln-On/2-Ln*+n[3])}(G);let n=I(G),t=I([G[0],1,1]);P(en,"background-color","rgb("+t[0]+","+t[1]+","+t[2]+")"),P(sn,"background-image","linear-gradient(rgb("+n[0]+","+n[1]+","+n[2]+"),transparent)")}function K(t){q=I(G);let e=t.target,r=n===F(e,n),i=J===F(e,J);o.current=null,r||i?i&&(hn||gn||bn)&&a("stop",q):v.blur?a("blur",q):hn||gn||bn||E(J)&&w(),hn=gn=bn=0}G=N(q=p()),c||(x(f||y,J),o.visible=!0),g=n=>(U()||W()||(r(0,n),a("enter",q)),o),w=()=>{return U()||W()?o:(E(J)&&(E(n=J),n.remove(),o.current=null,o.visible=!1),A(Y,Z,h),A(Y,nn,d),A(Y,tn,s),A($,b,L),A(B,b,K),A(z,m,O),a("exit",q));var n},C=t=>{let e=X(k),r=X(n),o=X(m),c=o[3]-k.clientHeight,f=o[2]-e[2],s=X(J),d=s[3],v=s[2],p=r[0]+o[0],h=r[1]+o[1]+r[3];if(i(t))u(t[0])&&(p=t[0]),u(t[1])&&(h=t[1]);else{let n=o[0],t=o[1],e=o[0]+o[2]-v-f,r=o[1]+o[3]-d-c;p=l(p,[n,e])>>0,h=l(h,[t,r])>>0}return P(J,"left",p),P(J,"top",h),a("fit",q)},O=()=>C();let Q=X(Z),V=X(un),rn=X(nn),on=X(fn),cn=X(tn),ln=X(an),yn=Q[3],kn=V[3],En=Q[2],wn=V[2],Cn=rn[3],xn=on[3],Ln=cn[3],On=ln[3];var Pn;c?(H(Y,n,mn),D((()=>{a("change",q)}),1)):(H(Y,Z,h),H(Y,nn,d),H(Y,tn,s),H($,b,L),H(B,b,K),H(z,m,O),C()),j(),o.color=(n,r,o,i)=>R[e(R[t.color])?t.color:_]([n,r,o,i]),o.current=null,o.enter=g,o.exit=w,o.fit=C,o.get=()=>p(),o.pop=()=>{return n.CP?(delete n.CP,t=S+"source",n.classList.remove(t),A(Y,n,mn),w(),a("pop",q)):o;var t},o.set=(n,t,e,r)=>(o._set(n,t,e,r),a("change",[n,t,e,r])),o.self=J,o._set=(n,t,e,r)=>(G=N([n,t,e,r]),j(),o),Pn=S+"source",n.classList.add(Pn)}(1),o.source=n,o.visible=!1,o}return R.HEX=n=>{if(c(n)){let t=s(n=n.trim());if(4!==t&&7!==t||"#"!==n[0]){if((5===t||9===t)&&"#"===n[0]&&/^#([a-f\d]{3,4}){1,2}$/i.test(n))return 5===t?[a(n[1]+n[1],16),a(n[2]+n[2],16),a(n[3]+n[3],16),a(n[4]+n[4],16)/255]:[a(n[1]+n[2],16),a(n[3]+n[4],16),a(n[5]+n[6],16),a(n[7]+n[8],16)/255]}else if(/^#([a-f\d]{3}){1,2}$/i.test(n))return 4===t?[a(n[1]+n[1],16),a(n[2]+n[2],16),a(n[3]+n[3],16),1]:[a(n[1]+n[2],16),a(n[3]+n[4],16),a(n[5]+n[6],16),1];return[0,0,0,1]}return"#"+("000000"+p(+n[2]|+n[1]<<8|+n[0]<<16,16)).slice(-6)+(u(n[3])&&n[3]<1?p(v(255*n[3])+65536,16).substr(-2):"")},R.instances={},R.state={class:"color-picker",color:_},R.version="2.4.1",R}));