/*!
 *
 * The MIT License (MIT)
 *
 * Copyright © 2021 Taufik Nurrohman <https://github.com/taufik-nurrohman>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the “Software”), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).CP=t()}(this,(function(){"use strict";var n=function(n){return"function"==typeof n},t=function(n,t){return n&&i(t)&&n instanceof t},e=function(n){return"number"==typeof n},r=function(n,e){return void 0===e&&(e=!0),"object"==typeof n&&(!e||t(n,Object))},i=function(n){return function(n){return void 0!==n}(n)&&!function(n){return null===n}(n)},u=function(n){return"string"==typeof n},o=function n(t){if(function(n){return Array.isArray(n)}(t))return t.map((function(e){return n(t)}));if(r(t)){for(var e in t)t[e]=n(t[e]);return t}return!1===t?"false":null===t?"null":!0===t?"true":""+t},c=function(n){return n.toUpperCase()},f=function(n){return n.length},a=function(n,t){return i(t[0])&&n<t[0]?t[0]:i(t[1])&&n>t[1]?t[1]:n},l=function(n,t){return void 0===t&&(t=10),t?parseInt(n,t):parseFloat(n)},s=function(n){return Object.keys(n)},d=function(n){return e(n)?Math.round(n):null},v=function(n,t){return void 0===t&&(t=10),e(n)?n.toString(t):""+n},p=document,h=window,b=p.body,g=p.documentElement,m=function(n){return n.parentNode||null},y=function(n,t){return n.removeAttribute(t),n},k=function(n,t,e){return!0===e&&(e=t),n.setAttribute(t,o(e)),n},E=function(n,t){return n.append(t),t},w=function(n,t,e){return n=u(n)?p.createElement(n):n,r(t)&&(e=t,t=!1),u(t)&&C(n,t),r(e)&&function(n,t){var e;for(var r in t)(e=t[r])||""===e||0===e?k(n,r,e):y(n,r)}(n,e),n},C=function(n,t,e){if(void 0===e&&(e=!0),null===t)return n;var r="innerHTML";return function(n,t){return t in n}(n,r)&&(n[r]=e?t.trim():t),n},O=function(n,t,r){return e(r)&&(r+="px"),n.style[(i=t,i.replace(/[-_.](\w)/g,(function(n,t){return c(t)})))]=o(r),n;var i},x=function(n){return n&&n.preventDefault()},T=function(n,t,e){n.forEach((function(n){return function(n,t,e){t.removeEventListener(n,e)}(n,t,e)}))},A=function(n,t,e,r){void 0===r&&(r=!1),n.forEach((function(n){return function(n,t,e,r){void 0===r&&(r=!1),t.addEventListener(n,e,r)}(n,t,e,r)}))};var H=function(n,t){var e=n.touches,r=e?e[0].clientX:n.clientX,i=e?e[0].clientY:n.clientY;if(t){var u=L(t);return[r-u[0],i-u[1],u[0],u[1]]}return[r,i]},L=function(n){var t,e,r,i,u,o,c;return!function(n){return n===h}(n)?(i=(e=n.getBoundingClientRect()).left,u=e.top,r=e.width,t=e.height,o=e.right,c=e.bottom):(i=n.pageXOffset||g.scrollLeft||b.scrollLeft,u=n.pageYOffset||g.scrollTop||b.scrollTop,r=n.innerWidth,t=n.innerHeight),[i,u,r,t,o,c]};const M="HEX",P=["touchstart","mousedown"],X=["touchmove","mousemove"],Y=["orientationchange","resize"],_=["touchend","mouseup"];let $=h.setTimeout;function z(n,t){if(n===t)return n;for(;(n=n.parentElement)&&n!==t;);return n}function B(n){let t,e,r,u,o,c,f,a,l=+n[0],s=+n[1],v=+n[2];switch(u=Math.floor(6*l),o=6*l-u,c=v*(1-s),f=v*(1-o*s),a=v*(1-(1-o)*s),u=u||0,f=f||0,a=a||0,u%6){case 0:t=v,e=a,r=c;break;case 1:t=f,e=v,r=c;break;case 2:t=c,e=v,r=a;break;case 3:t=c,e=f,r=v;break;case 4:t=a,e=c,r=v;break;case 5:t=v,e=c,r=f}return[d(255*t),d(255*e),d(255*r),i(n[3])?+n[3]:1]}function D(n){let t,e,r=+n[0]/255,u=+n[1]/255,o=+n[2]/255,c=Math.max(r,u,o),f=Math.min(r,u,o),a=c,l=c-f;if(e=0===c?0:l/c,c===f)t=0;else{switch(c){case r:t=(u-o)/l+(u<o?6:0);break;case u:t=(o-r)/l+2;break;case o:t=(r-u)/l+4}t/=6}return[t,e,a,i(n[3])?+n[3]:1]}function F(e,o={}){if(!e)return;const c=this;if(!t(c,F))return new F(e,o);if(e.CP)return;let{fire:l,hooks:d}=function(n){var t={};return n.hooks=t,n.fire=function(e,r){return i(t[e])?(t[e].forEach((function(t){return t.apply(n,r)})),n):n},n.off=function(e,r){if(!i(e))return t={},n;if(i(t[e]))if(i(r)){for(var u=0,o=t[e].length;u<o;++u)if(r===t[e][u]){t[e].splice(u,1);break}0===j&&delete t[e]}else delete t[e];return n},n.on=function(e,r){return i(t[e])||(t[e]=[]),i(r)&&t[e].push(r),n},n}(c);function v(){return e.value?F[n(F[o.color])?o.color:M](e.value||""):[0,0,0,1]}var y;c.state=o=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];return Object.assign.apply(Object,[{}].concat(t))}(F.state,u(o)?{color:o}:o||{}),c.source=e,c.value=v(),c.visible=!1,F.instances[e.id||e.name||(y=F.instances,f(s(y)))]=c,e.CP=1;let k,C,I,N,R=o.class,S=()=>e.disabled,U=()=>e.readOnly,W=v(),q=D(W),G=w("div",{class:R}),J=w("div"),K=w("div",{class:R+":sv"}),Q=w("div",{class:R+":h"}),V=w("div",{class:R+":a"}),Z=w("div"),nn=w("div"),tn=w("div"),en=w("i"),rn=w("div"),un=w("i"),on=w("div"),cn=w("div"),fn=w("i"),an=0,ln=0,sn=0,dn=0,vn=0,pn=0;function hn(n){if(d.focus)l("focus",W);else{let t=n.target;e===z(t,e)?!m(G)&&k(o.parent):C()}}return E(G,J),E(J,K),E(J,Q),E(J,V),E(K,Z),E(K,nn),E(K,tn),E(K,en),E(Q,rn),E(Q,un),E(V,on),E(V,cn),E(V,fn),function t(u,f){function s(n){c.current=V,sn=pn=1,j(n),x(n)}function y(n){c.current=Q,ln=vn=1,j(n),x(n)}function w(n){c.current=K,an=dn=1,j(n),x(n)}function j(n){dn&&function(n){let t=H(n,K),e=a(t[0],[0,kn]),r=a(t[1],[0,mn]);q[1]=1-(kn-e)/kn,q[2]=(mn-r)/mn,R()}(n),vn&&function(n){q[0]=(wn-a(H(n,Q)[1],[0,wn]))/wn,R()}(n),pn&&function(n){q[3]=(Cn-a(H(n,V)[1],[0,Cn]))/Cn,R()}(n),W=B(q),(dn||vn||pn)&&(l(an||ln||sn?"start":"drag",W),l("change",W)),an=ln=sn=0}function R(){!function(n){i(n[1])&&O(en,"right",kn-En/2-kn*+n[1]),i(n[2])&&O(en,"top",mn-yn/2-mn*+n[2]),i(n[0])&&O(un,"top",wn-jn/2-wn*+n[0]),i(n[3])&&O(fn,"top",Cn-On/2-Cn*+n[3])}(q);let n=B(q),t=B([q[0],1,1]);O(Z,"background-color","rgb("+t[0]+","+t[1]+","+t[2]+")"),O(on,"background-image","linear-gradient(rgb("+n[0]+","+n[1]+","+n[2]+"),transparent)")}function J(n){W=B(q);let t=n.target,r=e===z(t,e),i=G===z(t,G);c.current=null,r||i?i&&(dn||vn||pn)&&l("stop",W):d.blur?l("blur",W):dn||vn||pn||m(G)&&C(),dn=vn=pn=0}q=D(W=v()),u||(E(f||o.parent||b,G),c.visible=!0),k=n=>(S()||U()||(t(0,n),l("enter",W)),c),C=()=>{return S()||U()?c:(m(G)&&(m(n=G),n.remove(),c.current=null,c.visible=!1),T(P,K,w),T(P,Q,y),T(P,V,s),T(X,p,j),T(_,p,J),T(Y,h,N),l("exit",W));var n},I=n=>{let t=L(g),u=L(e),o=L(h),c=o[3]-g.clientHeight,f=o[2]-t[2],s=L(G),d=s[3],v=s[2],p=u[0]+o[0],b=u[1]+o[1]+u[3];if(r(n))i(n[0])&&(p=n[0]),i(n[1])&&(b=n[1]);else{let n=o[0],t=o[1],e=o[0]+o[2]-v-f,r=o[1]+o[3]-d-c;p=a(p,[n,e])>>0,b=a(b,[t,r])>>0}return O(G,"left",p),O(G,"top",b),l("fit",W)},N=()=>I();let nn=L(K),tn=L(en),rn=L(Q),cn=L(un),bn=L(V),gn=L(fn),mn=nn[3],yn=tn[3],kn=nn[2],En=tn[2],wn=rn[3],jn=cn[3],Cn=bn[3],On=gn[3];u?(A(P,e,hn),$((()=>{l("change",W)}),1)):(A(P,K,w),A(P,Q,y),A(P,V,s),A(X,p,j),A(_,p,J),A(Y,h,N),I()),R(),c.color=(t,e,r,i)=>F[n(F[o.color])?o.color:M]([t,e,r,i]),c.current=null,c.enter=k,c.exit=C,c.fit=I,c.get=()=>v(),c.pop=()=>e.CP?(delete e.CP,T(P,e,hn),C(),l("pop",W)):c,c.set=(n,t,e,r)=>(c._set(n,t,e,r),l("change",[n,t,e,r])),c.self=G,c._set=(n,t,e,r)=>(q=D([n,t,e,r]),R(),c)}(1),c}return F.HEX=n=>{if(u(n)){let t=f(n=n.trim());if(4!==t&&7!==t||"#"!==n[0]){if((5===t||9===t)&&"#"===n[0]&&/^#([a-f\d]{3,4}){1,2}$/i.test(n))return 5===t?[l(n[1]+n[1],16),l(n[2]+n[2],16),l(n[3]+n[3],16),l(n[4]+n[4],16)/255]:[l(n[1]+n[2],16),l(n[3]+n[4],16),l(n[5]+n[6],16),l(n[7]+n[8],16)/255]}else if(/^#([a-f\d]{3}){1,2}$/i.test(n))return 4===t?[l(n[1]+n[1],16),l(n[2]+n[2],16),l(n[3]+n[3],16),1]:[l(n[1]+n[2],16),l(n[3]+n[4],16),l(n[5]+n[6],16),1];return[0,0,0,1]}return"#"+("000000"+v(+n[2]|+n[1]<<8|+n[0]<<16,16)).slice(-6)+(i(n[3])&&n[3]<1?v(d(255*n[3])+65536,16).substr(-2):"")},F.instances={},F.state={class:"color-picker",color:M,parent:null},F.version="2.3.0",F}));